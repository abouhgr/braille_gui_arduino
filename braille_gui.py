# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'braille_gui.ui'
#
# Created by: PyQt5 UI code generator 5.15.4
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.
import this
import time

from PyQt5 import QtCore, QtGui, QtWidgets
from PyQt5.QtCore import pyqtSlot, QRunnable, QThreadPool, QObject, pyqtSignal

from main import Arduino


class Ui_MainWindow(object):
    def __init__(self):
        self.arduino = Arduino(Ui_MainWindow)
        self.threadpool = QThreadPool()

    def setupUi(self, MainWindow):
        MainWindow.setObjectName("MainWindow")
        MainWindow.resize(872, 669)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Fixed, QtWidgets.QSizePolicy.Fixed)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(MainWindow.sizePolicy().hasHeightForWidth())
        MainWindow.setSizePolicy(sizePolicy)
        MainWindow.setMaximumSize(QtCore.QSize(872, 669))
        self.centralwidget = QtWidgets.QWidget(MainWindow)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Fixed, QtWidgets.QSizePolicy.Fixed)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.centralwidget.sizePolicy().hasHeightForWidth())
        self.centralwidget.setSizePolicy(sizePolicy)
        self.centralwidget.setMinimumSize(QtCore.QSize(872, 669))
        self.centralwidget.setMaximumSize(QtCore.QSize(872, 669))
        self.centralwidget.setObjectName("centralwidget")
        self.gridLayoutWidget = QtWidgets.QWidget(self.centralwidget)
        self.gridLayoutWidget.setGeometry(QtCore.QRect(10, 10, 851, 651))
        self.gridLayoutWidget.setObjectName("gridLayoutWidget")
        self.gridLayout = QtWidgets.QGridLayout(self.gridLayoutWidget)
        self.gridLayout.setSizeConstraint(QtWidgets.QLayout.SetMinimumSize)
        self.gridLayout.setContentsMargins(0, 0, 0, 0)
        self.gridLayout.setObjectName("gridLayout")
        spacerItem = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Minimum)
        self.gridLayout.addItem(spacerItem, 4, 2, 1, 1)
        self.gridLayout_3 = QtWidgets.QGridLayout()
        self.gridLayout_3.setSizeConstraint(QtWidgets.QLayout.SetMinimumSize)
        self.gridLayout_3.setObjectName("gridLayout_3")
        self.label_act3_state = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_act3_state.setFrameShape(QtWidgets.QFrame.Box)
        self.label_act3_state.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_act3_state.setAlignment(QtCore.Qt.AlignCenter)
        self.label_act3_state.setObjectName("label_act3_state")
        self.gridLayout_3.addWidget(self.label_act3_state, 2, 1, 1, 1)
        self.label_act5_state = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_act5_state.setFrameShape(QtWidgets.QFrame.Box)
        self.label_act5_state.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_act5_state.setAlignment(QtCore.Qt.AlignCenter)
        self.label_act5_state.setObjectName("label_act5_state")
        self.gridLayout_3.addWidget(self.label_act5_state, 4, 1, 1, 1)
        self.label_act4_state = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_act4_state.setFrameShape(QtWidgets.QFrame.Box)
        self.label_act4_state.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_act4_state.setAlignment(QtCore.Qt.AlignCenter)
        self.label_act4_state.setObjectName("label_act4_state")
        self.gridLayout_3.addWidget(self.label_act4_state, 3, 1, 1, 1)
        self.label_act1_state = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_act1_state.setLayoutDirection(QtCore.Qt.LeftToRight)
        self.label_act1_state.setFrameShape(QtWidgets.QFrame.Box)
        self.label_act1_state.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_act1_state.setAlignment(QtCore.Qt.AlignCenter)
        self.label_act1_state.setObjectName("label_act1_state")
        self.gridLayout_3.addWidget(self.label_act1_state, 0, 1, 1, 1)
        self.label_act6_state = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_act6_state.setFrameShape(QtWidgets.QFrame.Box)
        self.label_act6_state.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_act6_state.setAlignment(QtCore.Qt.AlignCenter)
        self.label_act6_state.setObjectName("label_act6_state")
        self.gridLayout_3.addWidget(self.label_act6_state, 5, 1, 1, 1)
        self.label_act9_state = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_act9_state.setFrameShape(QtWidgets.QFrame.Box)
        self.label_act9_state.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_act9_state.setAlignment(QtCore.Qt.AlignCenter)
        self.label_act9_state.setObjectName("label_act9_state")
        self.gridLayout_3.addWidget(self.label_act9_state, 8, 1, 1, 1)
        self.label_act2_state = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_act2_state.setFrameShape(QtWidgets.QFrame.Box)
        self.label_act2_state.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_act2_state.setAlignment(QtCore.Qt.AlignCenter)
        self.label_act2_state.setObjectName("label_act2_state")
        self.gridLayout_3.addWidget(self.label_act2_state, 1, 1, 1, 1)
        self.label_act7_state = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_act7_state.setFrameShape(QtWidgets.QFrame.Box)
        self.label_act7_state.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_act7_state.setAlignment(QtCore.Qt.AlignCenter)
        self.label_act7_state.setObjectName("label_act7_state")
        self.gridLayout_3.addWidget(self.label_act7_state, 6, 1, 1, 1)
        self.label_act8_state = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_act8_state.setFrameShape(QtWidgets.QFrame.Box)
        self.label_act8_state.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_act8_state.setAlignment(QtCore.Qt.AlignCenter)
        self.label_act8_state.setObjectName("label_act8_state")
        self.gridLayout_3.addWidget(self.label_act8_state, 7, 1, 1, 1)
        self.label_act1 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_act1.setMinimumSize(QtCore.QSize(100, 0))
        self.label_act1.setFrameShape(QtWidgets.QFrame.Box)
        self.label_act1.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_act1.setObjectName("label_act1")
        self.gridLayout_3.addWidget(self.label_act1, 0, 0, 1, 1)
        self.label_act2 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_act2.setMinimumSize(QtCore.QSize(100, 0))
        self.label_act2.setFrameShape(QtWidgets.QFrame.Box)
        self.label_act2.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_act2.setObjectName("label_act2")
        self.gridLayout_3.addWidget(self.label_act2, 1, 0, 1, 1)
        self.label_act3 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_act3.setMinimumSize(QtCore.QSize(100, 0))
        self.label_act3.setFrameShape(QtWidgets.QFrame.Box)
        self.label_act3.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_act3.setObjectName("label_act3")
        self.gridLayout_3.addWidget(self.label_act3, 2, 0, 1, 1)
        self.label_act4 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_act4.setMinimumSize(QtCore.QSize(100, 0))
        self.label_act4.setFrameShape(QtWidgets.QFrame.Box)
        self.label_act4.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_act4.setObjectName("label_act4")
        self.gridLayout_3.addWidget(self.label_act4, 3, 0, 1, 1)
        self.label_act5 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_act5.setMinimumSize(QtCore.QSize(100, 0))
        self.label_act5.setFrameShape(QtWidgets.QFrame.Box)
        self.label_act5.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_act5.setObjectName("label_act5")
        self.gridLayout_3.addWidget(self.label_act5, 4, 0, 1, 1)
        self.label_act6 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_act6.setMinimumSize(QtCore.QSize(100, 0))
        self.label_act6.setFrameShape(QtWidgets.QFrame.Box)
        self.label_act6.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_act6.setObjectName("label_act6")
        self.gridLayout_3.addWidget(self.label_act6, 5, 0, 1, 1)
        self.label_act7 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_act7.setMinimumSize(QtCore.QSize(100, 0))
        self.label_act7.setFrameShape(QtWidgets.QFrame.Box)
        self.label_act7.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_act7.setObjectName("label_act7")
        self.gridLayout_3.addWidget(self.label_act7, 6, 0, 1, 1)
        self.label_act8 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_act8.setMinimumSize(QtCore.QSize(100, 0))
        self.label_act8.setFrameShape(QtWidgets.QFrame.Box)
        self.label_act8.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_act8.setObjectName("label_act8")
        self.gridLayout_3.addWidget(self.label_act8, 7, 0, 1, 1)
        self.label_act9 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_act9.setMinimumSize(QtCore.QSize(100, 0))
        self.label_act9.setFrameShape(QtWidgets.QFrame.Box)
        self.label_act9.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_act9.setObjectName("label_act9")
        self.gridLayout_3.addWidget(self.label_act9, 8, 0, 1, 1)
        self.gridLayout.addLayout(self.gridLayout_3, 5, 0, 1, 2)
        self.label_pwm = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_pwm.setMinimumSize(QtCore.QSize(100, 0))
        self.label_pwm.setObjectName("label_pwm")
        self.gridLayout.addWidget(self.label_pwm, 1, 0, 1, 1)
        self.lineEdit_pwm = QtWidgets.QLineEdit(self.gridLayoutWidget)
        self.lineEdit_pwm.setObjectName("lineEdit_pwm")
        self.gridLayout.addWidget(self.lineEdit_pwm, 1, 1, 1, 1)
        self.horizontalLayout_2 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_2.setObjectName("horizontalLayout_2")
        spacerItem1 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_2.addItem(spacerItem1)
        self.pb_send = QtWidgets.QPushButton(self.gridLayoutWidget)
        self.pb_send.setObjectName("pb_send")
        self.horizontalLayout_2.addWidget(self.pb_send)
        spacerItem2 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_2.addItem(spacerItem2)
        self.gridLayout.addLayout(self.horizontalLayout_2, 4, 1, 1, 1)
        self.lineEdit_dgr_stop = QtWidgets.QLineEdit(self.gridLayoutWidget)
        self.lineEdit_dgr_stop.setObjectName("lineEdit_dgr_stop")
        self.gridLayout.addWidget(self.lineEdit_dgr_stop, 3, 1, 1, 1)
        self.label_dgr_start = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_dgr_start.setMinimumSize(QtCore.QSize(100, 0))
        self.label_dgr_start.setObjectName("label_dgr_start")
        self.gridLayout.addWidget(self.label_dgr_start, 2, 0, 1, 1)
        self.label_dgr_stop = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_dgr_stop.setMinimumSize(QtCore.QSize(100, 0))
        self.label_dgr_stop.setObjectName("label_dgr_stop")
        self.gridLayout.addWidget(self.label_dgr_stop, 3, 0, 1, 1)
        spacerItem3 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
        self.gridLayout.addItem(spacerItem3, 5, 2, 1, 1)
        self.lineEdit_dgr_start = QtWidgets.QLineEdit(self.gridLayoutWidget)
        self.lineEdit_dgr_start.setObjectName("lineEdit_dgr_start")
        self.gridLayout.addWidget(self.lineEdit_dgr_start, 2, 1, 1, 1)
        self.label_com = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_com.setObjectName("label_com")
        self.gridLayout.addWidget(self.label_com, 0, 0, 1, 1)
        self.pb_conn_ard = QtWidgets.QPushButton(self.gridLayoutWidget)
        self.pb_conn_ard.setObjectName("pb_conn_ard")
        self.gridLayout.addWidget(self.pb_conn_ard, 0, 2, 1, 1)
        self.lineEdit_com = QtWidgets.QLineEdit(self.gridLayoutWidget)
        self.lineEdit_com.setObjectName("lineEdit_com")
        self.gridLayout.addWidget(self.lineEdit_com, 0, 1, 1, 1)
        self.gridLayout_4 = QtWidgets.QGridLayout()
        self.gridLayout_4.setObjectName("gridLayout_4")
        self.label_c10 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c10.setMinimumSize(QtCore.QSize(100, 0))
        self.label_c10.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c10.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_c10.setObjectName("label_c10")
        self.gridLayout_4.addWidget(self.label_c10, 10, 0, 1, 1)
        self.label_c16_char = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c16_char.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c16_char.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.label_c16_char.setAlignment(QtCore.Qt.AlignCenter)
        self.label_c16_char.setObjectName("label_c16_char")
        self.gridLayout_4.addWidget(self.label_c16_char, 16, 2, 1, 1)
        self.label_c13 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c13.setMinimumSize(QtCore.QSize(100, 0))
        self.label_c13.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c13.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_c13.setObjectName("label_c13")
        self.gridLayout_4.addWidget(self.label_c13, 13, 0, 1, 1)
        self.label_c19_char = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c19_char.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c19_char.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.label_c19_char.setAlignment(QtCore.Qt.AlignCenter)
        self.label_c19_char.setObjectName("label_c19_char")
        self.gridLayout_4.addWidget(self.label_c19_char, 19, 2, 1, 1)
        self.label_c0 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c0.setMinimumSize(QtCore.QSize(100, 0))
        self.label_c0.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c0.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_c0.setObjectName("label_c0")
        self.gridLayout_4.addWidget(self.label_c0, 0, 0, 1, 1)
        self.label_c9_char = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c9_char.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c9_char.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.label_c9_char.setAlignment(QtCore.Qt.AlignCenter)
        self.label_c9_char.setObjectName("label_c9_char")
        self.gridLayout_4.addWidget(self.label_c9_char, 9, 2, 1, 1)
        self.label_c19 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c19.setMinimumSize(QtCore.QSize(100, 0))
        self.label_c19.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c19.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_c19.setObjectName("label_c19")
        self.gridLayout_4.addWidget(self.label_c19, 19, 0, 1, 1)
        self.label_c9 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c9.setMinimumSize(QtCore.QSize(100, 0))
        self.label_c9.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c9.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_c9.setObjectName("label_c9")
        self.gridLayout_4.addWidget(self.label_c9, 9, 0, 1, 1)
        self.label_c6 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c6.setMinimumSize(QtCore.QSize(100, 0))
        self.label_c6.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c6.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_c6.setObjectName("label_c6")
        self.gridLayout_4.addWidget(self.label_c6, 6, 0, 1, 1)
        self.label_c6_char = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c6_char.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c6_char.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.label_c6_char.setAlignment(QtCore.Qt.AlignCenter)
        self.label_c6_char.setObjectName("label_c6_char")
        self.gridLayout_4.addWidget(self.label_c6_char, 6, 2, 1, 1)
        self.label_c5_char = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c5_char.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c5_char.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.label_c5_char.setAlignment(QtCore.Qt.AlignCenter)
        self.label_c5_char.setObjectName("label_c5_char")
        self.gridLayout_4.addWidget(self.label_c5_char, 5, 2, 1, 1)
        self.label_c15_char = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c15_char.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c15_char.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.label_c15_char.setAlignment(QtCore.Qt.AlignCenter)
        self.label_c15_char.setObjectName("label_c15_char")
        self.gridLayout_4.addWidget(self.label_c15_char, 15, 2, 1, 1)
        self.label_c2_char = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c2_char.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c2_char.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.label_c2_char.setAlignment(QtCore.Qt.AlignCenter)
        self.label_c2_char.setObjectName("label_c2_char")
        self.gridLayout_4.addWidget(self.label_c2_char, 2, 2, 1, 1)
        self.label_c11_char = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c11_char.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c11_char.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.label_c11_char.setAlignment(QtCore.Qt.AlignCenter)
        self.label_c11_char.setObjectName("label_c11_char")
        self.gridLayout_4.addWidget(self.label_c11_char, 11, 2, 1, 1)
        self.label_c10_char = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c10_char.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c10_char.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.label_c10_char.setAlignment(QtCore.Qt.AlignCenter)
        self.label_c10_char.setObjectName("label_c10_char")
        self.gridLayout_4.addWidget(self.label_c10_char, 10, 2, 1, 1)
        self.label_c8 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c8.setMinimumSize(QtCore.QSize(100, 0))
        self.label_c8.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c8.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_c8.setObjectName("label_c8")
        self.gridLayout_4.addWidget(self.label_c8, 8, 0, 1, 1)
        self.label_c3_char = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c3_char.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c3_char.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.label_c3_char.setAlignment(QtCore.Qt.AlignCenter)
        self.label_c3_char.setObjectName("label_c3_char")
        self.gridLayout_4.addWidget(self.label_c3_char, 3, 2, 1, 1)
        self.label_c3 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c3.setMinimumSize(QtCore.QSize(100, 0))
        self.label_c3.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c3.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_c3.setObjectName("label_c3")
        self.gridLayout_4.addWidget(self.label_c3, 3, 0, 1, 1)
        self.label_c4_char = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c4_char.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c4_char.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.label_c4_char.setAlignment(QtCore.Qt.AlignCenter)
        self.label_c4_char.setObjectName("label_c4_char")
        self.gridLayout_4.addWidget(self.label_c4_char, 4, 2, 1, 1)
        self.label_c17 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c17.setMinimumSize(QtCore.QSize(100, 0))
        self.label_c17.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c17.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_c17.setObjectName("label_c17")
        self.gridLayout_4.addWidget(self.label_c17, 17, 0, 1, 1)
        self.label_c13_char = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c13_char.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c13_char.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.label_c13_char.setAlignment(QtCore.Qt.AlignCenter)
        self.label_c13_char.setObjectName("label_c13_char")
        self.gridLayout_4.addWidget(self.label_c13_char, 13, 2, 1, 1)
        self.label_c12_char = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c12_char.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c12_char.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.label_c12_char.setAlignment(QtCore.Qt.AlignCenter)
        self.label_c12_char.setObjectName("label_c12_char")
        self.gridLayout_4.addWidget(self.label_c12_char, 12, 2, 1, 1)
        self.label_c5 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c5.setMinimumSize(QtCore.QSize(100, 0))
        self.label_c5.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c5.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_c5.setObjectName("label_c5")
        self.gridLayout_4.addWidget(self.label_c5, 5, 0, 1, 1)
        self.label_c0_char = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c0_char.setMinimumSize(QtCore.QSize(80, 0))
        self.label_c0_char.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c0_char.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.label_c0_char.setAlignment(QtCore.Qt.AlignCenter)
        self.label_c0_char.setObjectName("label_c0_char")
        self.gridLayout_4.addWidget(self.label_c0_char, 0, 2, 1, 1)
        self.label_c17_char = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c17_char.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c17_char.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.label_c17_char.setAlignment(QtCore.Qt.AlignCenter)
        self.label_c17_char.setObjectName("label_c17_char")
        self.gridLayout_4.addWidget(self.label_c17_char, 17, 2, 1, 1)
        self.label_c7_char = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c7_char.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c7_char.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.label_c7_char.setAlignment(QtCore.Qt.AlignCenter)
        self.label_c7_char.setObjectName("label_c7_char")
        self.gridLayout_4.addWidget(self.label_c7_char, 7, 2, 1, 1)
        self.label_c18 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c18.setMinimumSize(QtCore.QSize(100, 0))
        self.label_c18.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c18.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_c18.setObjectName("label_c18")
        self.gridLayout_4.addWidget(self.label_c18, 18, 0, 1, 1)
        self.label_c12 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c12.setMinimumSize(QtCore.QSize(100, 0))
        self.label_c12.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c12.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_c12.setObjectName("label_c12")
        self.gridLayout_4.addWidget(self.label_c12, 12, 0, 1, 1)
        self.label_c1_char = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c1_char.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c1_char.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.label_c1_char.setAlignment(QtCore.Qt.AlignCenter)
        self.label_c1_char.setObjectName("label_c1_char")
        self.gridLayout_4.addWidget(self.label_c1_char, 1, 2, 1, 1)
        self.label_c11 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c11.setMinimumSize(QtCore.QSize(100, 0))
        self.label_c11.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c11.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_c11.setObjectName("label_c11")
        self.gridLayout_4.addWidget(self.label_c11, 11, 0, 1, 1)
        self.label_c2 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c2.setMinimumSize(QtCore.QSize(100, 0))
        self.label_c2.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c2.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_c2.setObjectName("label_c2")
        self.gridLayout_4.addWidget(self.label_c2, 2, 0, 1, 1)
        self.label_c18_char = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c18_char.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c18_char.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.label_c18_char.setAlignment(QtCore.Qt.AlignCenter)
        self.label_c18_char.setObjectName("label_c18_char")
        self.gridLayout_4.addWidget(self.label_c18_char, 18, 2, 1, 1)
        self.label_c8_char = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c8_char.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c8_char.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.label_c8_char.setAlignment(QtCore.Qt.AlignCenter)
        self.label_c8_char.setObjectName("label_c8_char")
        self.gridLayout_4.addWidget(self.label_c8_char, 8, 2, 1, 1)
        self.label_c1 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c1.setMinimumSize(QtCore.QSize(100, 0))
        self.label_c1.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c1.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_c1.setObjectName("label_c1")
        self.gridLayout_4.addWidget(self.label_c1, 1, 0, 1, 1)
        self.label_c14_char = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c14_char.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c14_char.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.label_c14_char.setAlignment(QtCore.Qt.AlignCenter)
        self.label_c14_char.setObjectName("label_c14_char")
        self.gridLayout_4.addWidget(self.label_c14_char, 14, 2, 1, 1)
        self.label_c16 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c16.setMinimumSize(QtCore.QSize(100, 0))
        self.label_c16.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c16.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_c16.setObjectName("label_c16")
        self.gridLayout_4.addWidget(self.label_c16, 16, 0, 1, 1)
        self.label_c7 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c7.setMinimumSize(QtCore.QSize(100, 0))
        self.label_c7.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c7.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_c7.setObjectName("label_c7")
        self.gridLayout_4.addWidget(self.label_c7, 7, 0, 1, 1)
        self.label_c15 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c15.setMinimumSize(QtCore.QSize(100, 0))
        self.label_c15.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c15.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_c15.setObjectName("label_c15")
        self.gridLayout_4.addWidget(self.label_c15, 15, 0, 1, 1)
        self.label_c14 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c14.setMinimumSize(QtCore.QSize(100, 0))
        self.label_c14.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c14.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_c14.setObjectName("label_c14")
        self.gridLayout_4.addWidget(self.label_c14, 14, 0, 1, 1)
        self.label_c4 = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label_c4.setMinimumSize(QtCore.QSize(100, 0))
        self.label_c4.setFrameShape(QtWidgets.QFrame.Box)
        self.label_c4.setFrameShadow(QtWidgets.QFrame.Raised)
        self.label_c4.setObjectName("label_c4")
        self.gridLayout_4.addWidget(self.label_c4, 4, 0, 1, 1)
        self.gridLayout.addLayout(self.gridLayout_4, 0, 3, 6, 1)
        MainWindow.setCentralWidget(self.centralwidget)

        self.retranslateUi(MainWindow)
        QtCore.QMetaObject.connectSlotsByName(MainWindow)

        # ******         Actions             ******#
        self.pb_conn_ard.clicked.connect(self.connect_to_arduino)
        #self.pb_conn_ard.clicked.connect(self.update_gui_worker)

        self.pb_send.clicked.connect(self.send_signal)

    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "MainWindow"))
        self.label_act3_state.setText(_translate("MainWindow", "ON/OFF"))
        self.label_act5_state.setText(_translate("MainWindow", "ON/OFF"))
        self.label_act4_state.setText(_translate("MainWindow", "ON/OFF"))
        self.label_act1_state.setText(_translate("MainWindow", "ON/OFF"))
        self.label_act6_state.setText(_translate("MainWindow", "ON/OFF"))
        self.label_act9_state.setText(_translate("MainWindow", "ON/OFF"))
        self.label_act2_state.setText(_translate("MainWindow", "ON/OFF"))
        self.label_act7_state.setText(_translate("MainWindow", "ON/OFF"))
        self.label_act8_state.setText(_translate("MainWindow", "ON/OFF"))
        self.label_act1.setText(_translate("MainWindow", "Actuator 1"))
        self.label_act2.setText(_translate("MainWindow", "Actuator 2"))
        self.label_act3.setText(_translate("MainWindow", "Actuator 3"))
        self.label_act4.setText(_translate("MainWindow", "Actuator 4"))
        self.label_act5.setText(_translate("MainWindow", "Actuator 5"))
        self.label_act6.setText(_translate("MainWindow", "Actuator 6"))
        self.label_act7.setText(_translate("MainWindow", "Actuator 7"))
        self.label_act8.setText(_translate("MainWindow", "Actuator 8"))
        self.label_act9.setText(_translate("MainWindow", "Actuator 9"))
        self.label_pwm.setText(_translate("MainWindow", "Actuator PWM"))
        self.pb_send.setText(_translate("MainWindow", "Send"))
        self.label_dgr_start.setText(_translate("MainWindow", "No of Degrees to Start Actuator"))
        self.label_dgr_stop.setText(_translate("MainWindow", "No of Degrees to Stop Actuator"))
        self.label_com.setText(_translate("MainWindow", "Connect to COM:"))
        self.pb_conn_ard.setText(_translate("MainWindow", "Connect"))
        self.label_c10.setText(_translate("MainWindow", "Cell 10"))
        self.label_c16_char.setText(_translate("MainWindow", "char"))
        self.label_c13.setText(_translate("MainWindow", "Cell 13"))
        self.label_c19_char.setText(_translate("MainWindow", "char"))
        self.label_c0.setText(_translate("MainWindow", "Cell 0"))
        self.label_c9_char.setText(_translate("MainWindow", "char"))
        self.label_c19.setText(_translate("MainWindow", "Cell 19"))
        self.label_c9.setText(_translate("MainWindow", "Cell 9"))
        self.label_c6.setText(_translate("MainWindow", "Cell 6"))
        self.label_c6_char.setText(_translate("MainWindow", "char"))
        self.label_c5_char.setText(_translate("MainWindow", "char"))
        self.label_c15_char.setText(_translate("MainWindow", "char"))
        self.label_c2_char.setText(_translate("MainWindow", "char"))
        self.label_c11_char.setText(_translate("MainWindow", "char"))
        self.label_c10_char.setText(_translate("MainWindow", "char"))
        self.label_c8.setText(_translate("MainWindow", "Cell 8"))
        self.label_c3_char.setText(_translate("MainWindow", "char"))
        self.label_c3.setText(_translate("MainWindow", "Cell 3"))
        self.label_c4_char.setText(_translate("MainWindow", "char"))
        self.label_c17.setText(_translate("MainWindow", "Cell 17"))
        self.label_c13_char.setText(_translate("MainWindow", "char"))
        self.label_c12_char.setText(_translate("MainWindow", "char"))
        self.label_c5.setText(_translate("MainWindow", "Cell 5"))
        self.label_c0_char.setText(_translate("MainWindow", "char"))
        self.label_c17_char.setText(_translate("MainWindow", "char"))
        self.label_c7_char.setText(_translate("MainWindow", "char"))
        self.label_c18.setText(_translate("MainWindow", "Cell 18"))
        self.label_c12.setText(_translate("MainWindow", "Cell 12"))
        self.label_c1_char.setText(_translate("MainWindow", "char"))
        self.label_c11.setText(_translate("MainWindow", "Cell 11"))
        self.label_c2.setText(_translate("MainWindow", "Cell 2"))
        self.label_c18_char.setText(_translate("MainWindow", "char"))
        self.label_c8_char.setText(_translate("MainWindow", "char"))
        self.label_c1.setText(_translate("MainWindow", "Cell 1"))
        self.label_c14_char.setText(_translate("MainWindow", "char"))
        self.label_c16.setText(_translate("MainWindow", "Cell 16"))
        self.label_c7.setText(_translate("MainWindow", "Cell 7"))
        self.label_c15.setText(_translate("MainWindow", "Cell 15"))
        self.label_c14.setText(_translate("MainWindow", "Cell 14"))
        self.label_c4.setText(_translate("MainWindow", "Cell 4"))

    def send_signal(self):
        char = self.lineEdit_pwm.text()
        self.arduino.send_data(char)

    def connect_to_arduino(self):
        com_port = self.lineEdit_com.text()
        self.arduino.connect_to_arduino(com_port)
        if self.arduino.connection_established:
            self.pb_conn_ard.setText('Disconnect')
            self.lineEdit_com.setEnabled(False)
        else:
            self.pb_conn_ard.setText('Connect')
            self.lineEdit_com.setEnabled(True)
        self.read_data_worker()

    def read_data_worker(self):
        # Pass the function to execute
        worker = Worker(self.arduino.read_data)
        worker.signals.signal.connect(self.update_gui)

        # Execute
        self.threadpool.start(worker)

    def update_gui(self):
        actuators_copy = self.arduino.actuators
        self.update_act_0(actuators_copy)
        self.update_act_1(actuators_copy)
        self.update_act_2(actuators_copy)
        self.update_act_3(actuators_copy)
        self.update_act_4(actuators_copy)
        self.update_act_5(actuators_copy)
        self.update_act_6(actuators_copy)
        self.update_act_7(actuators_copy)
        self.update_act_8(actuators_copy)

        chars_copy = self.arduino.cell_chars
        self.update_chars(chars_copy)


    '''def update_gui_worker(self):
        worker = Worker(self.update_gui)

        # Execute
        self.threadpool.start(worker)'''


    def update_chars(self, chars_copy):
        self.label_c0_char.setText(chars_copy[0])
        self.label_c1_char.setText(chars_copy[1])
        self.label_c2_char.setText(chars_copy[2])
        self.label_c3_char.setText(chars_copy[3])
        self.label_c4_char.setText(chars_copy[4])
        self.label_c5_char.setText(chars_copy[5])
        self.label_c6_char.setText(chars_copy[6])
        self.label_c7_char.setText(chars_copy[7])
        self.label_c8_char.setText(chars_copy[8])
        self.label_c9_char.setText(chars_copy[9])
        self.label_c10_char.setText(chars_copy[10])
        self.label_c11_char.setText(chars_copy[11])
        self.label_c12_char.setText(chars_copy[12])
        self.label_c13_char.setText(chars_copy[13])
        self.label_c14_char.setText(chars_copy[14])
        self.label_c15_char.setText(chars_copy[15])
        self.label_c16_char.setText(chars_copy[16])
        self.label_c17_char.setText(chars_copy[17])
        self.label_c18_char.setText(chars_copy[18])
        self.label_c19_char.setText(chars_copy[19])

    def update_act_0(self, actuators_copy):
        if actuators_copy[0] == '1':
            self.label_act1_state.setText("ON")
            self.label_act1_state.setStyleSheet("background-color: green;")
        elif actuators_copy[0] == '0':
            self.label_act1_state.setText("OFF")
            self.label_act1_state.setStyleSheet("background-color: red;")

    def update_act_1(self, actuators_copy):
        if actuators_copy[1] == '1':
            self.label_act2_state.setText("ON")
            self.label_act2_state.setStyleSheet("background-color: green;")
        elif actuators_copy[1] == '0':
            self.label_act2_state.setText("OFF")
            self.label_act2_state.setStyleSheet("background-color: red;")

    def update_act_2(self, actuators_copy):
        if actuators_copy[2] == '1':
            self.label_act3_state.setText('ON')
            self.label_act3_state.setStyleSheet("background-color: green;")
        elif actuators_copy[2] == '0':
            self.label_act3_state.setText('OFF')
            self.label_act3_state.setStyleSheet("background-color: red;")

    def update_act_3(self, actuators_copy):
        if actuators_copy[3] == '1':
            self.label_act4_state.setText('ON')
            self.label_act4_state.setStyleSheet("background-color: green;")
        elif actuators_copy[3] == '0':
            self.label_act4_state.setText('OFF')
            self.label_act4_state.setStyleSheet("background-color: red;")

    def update_act_4(self, actuators_copy):
        if actuators_copy[4] == '1':
            self.label_act5_state.setText('ON')
            self.label_act5_state.setStyleSheet("background-color: green;")
        elif actuators_copy[4] == '0':
            self.label_act5_state.setText('OFF')
            self.label_act5_state.setStyleSheet("background-color: red;")

    def update_act_5(self, actuators_copy):
        if actuators_copy[5] == '1':
            self.label_act6_state.setText('ON')
            self.label_act6_state.setStyleSheet("background-color: green;")
        elif actuators_copy[5] == '0':
            self.label_act6_state.setText('OFF')
            self.label_act6_state.setStyleSheet("background-color: red;")

    def update_act_6(self, actuators_copy):
        if actuators_copy[6] == '1':
            self.label_act7_state.setText('ON')
            self.label_act7_state.setStyleSheet("background-color: green;")
        elif actuators_copy[6] == '0':
            self.label_act7_state.setText('OFF')
            self.label_act7_state.setStyleSheet("background-color: red;")

    def update_act_7(self, actuators_copy):
        if actuators_copy[7] == '1':
            self.label_act8_state.setText('ON')
            self.label_act8_state.setStyleSheet("background-color: green;")
        elif actuators_copy[7] == '0':
            self.label_act8_state.setText('OFF')
            self.label_act8_state.setStyleSheet("background-color: red;")

    def update_act_8(self, actuators_copy):
        if actuators_copy[8] == '1':
            self.label_act9_state.setText('ON')
            self.label_act9_state.setStyleSheet("background-color: green;")
        elif actuators_copy[8] == '0':
            self.label_act9_state.setText('OFF')
            self.label_act9_state.setStyleSheet("background-color: red;")

class WorkerSignals(QObject):
    signal = pyqtSignal()


class Worker(QRunnable):
    '''
    Worker thread

    Inherits from QRunnable to handler worker thread setup, signals and wrap-up.

    :param callback: The function callback to run on this worker thread. Supplied args and
                     kwargs will be passed through to the runner.
    :type callback: function
    :param args: Arguments to pass to the callback function
    :param kwargs: Keywords to pass to the callback function

    '''

    def __init__(self, fn, *args, **kwargs):
        super(Worker, self).__init__()
        # Store constructor arguments (re-used for processing)
        self.fn = fn
        self.args = args
        self.kwargs = kwargs
        self.signals = WorkerSignals()

    @pyqtSlot()
    def run(self):
        '''
        Initialise the runner function with passed args, kwargs.
        '''
        return_value = True
        while return_value:
            return_value = self.fn(*self.args, **self.kwargs)
            self.signals.signal.emit()